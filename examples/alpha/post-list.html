
<link rel="import" href="../../components/polymer/polymer.html" />

<link rel="import" href="post-item.html" />
<link rel="import" href="social.html" />

<polymer-element name="post-list">
  <template>
    <style>

      /* =Posts
      ----------------------------------------------- */
      .post-list,
      .post-list li {
        list-style: none;
        padding-left: 0;
      }
      .post-list {
        margin: 0 0 3em;
      }
      .post-list li {
        margin: 10px auto;
        padding: 0 10px;
        max-width: 40em;
      }

    </style>

    <ul class="post-list">
      <li>
        <post-item author="aldoatgood" datetime="2014-10-01 19:00" class="twitter">
          <p>
            Here we go!!
            <strong>#ProjectCitizen</strong>
          </p>
        </post-item>
      </li>
      <li>
        <post-item author="Jelena" datetime="2014-10-01 19:00">
          <p>
            Drinking vinegar Shoreditch wolf hoodie skateboard. Veniam Vice commodo ea next level.
          </p>
        </post-item>
      </li>
      <li>
        <post-item author="brian" datetime="2014-10-01 19:00">
          <img src="https://s3.amazonaws.com/development.citizen.good.is/1eeec3359f16dae6ac718061ff461a53621f0e92" alt="" />
          <p>
            Working on Nexus 5 with picture from gallery
          </p>
        </post-item>
      </li>
    </ul>
  </template>

  <script>
    Polymer({
      domReady: function() {

        // Returns a random integer between min (included) and max (excluded)
        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random
        function getRandomInt(min, max) {
          return Math.floor(Math.random() * (max - min)) + min;
        }

        /* OPTIONAL: Show a random background color */
        var colors = [
          "strawberry",
          "banana",
          "sky"
        ];
        var items = this.shadowRoot.querySelectorAll("post-item");
        var cursor = getRandomInt(0, colors.length);
        for (var index = 0; index < items.length; index++) {
          items[index].classList.add(colors[cursor]);
          cursor++;
          if (cursor > colors.length - 1) cursor = 0;
        }

      }
    });
  </script>
</polymer-element>
